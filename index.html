<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">

		<title>DJ Countdown</title>
		<meta name="description" content="DJ Counter">
		<meta name="author" content="André Wisén">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	<body onload="cdreset()">
		<header>
		</header> 
		<center>
			<div>
				</br></br>
				<h1 style="font-size:20vw;">
					<span id="timespan"></span>
				</h1>
			
				<form onsubmit="updateCountdownTimer()">
					Countdown timer (seconds):</br>
					<input id="ctimer" type="number" name="quantity" min="1">
					<input type="submit" value="Update"></br></br>
				</form>
			</div>
			<div>
				<input type="button" value="Start" onclick="countdown()">
				<input type="button" value="Stop" onclick="cdpause()">
				<input type="button" value="Reset" onclick="cdreset()">
				</div>
		</center>
		<script>
			var CCOUNT = 60;
			function updateCountdownTimer() {
				CCOUNT = document.getElementById("ctimer").value;
				cdreset();
			}


			document.body.onkeyup = function(e){
				if(e.keyCode == 13){
					cdreset();
					countdown();
				}
				/*
				if(e.keyCode != 0){
					cdreset();
					countdown();
				}
				*/
			}

			//var CCOUNT = 60;
			var t, count;

			function cddisplay() {
				// displays time in span
				document.getElementById('timespan').innerHTML = count;
			};

			function countdown() {
				// starts countdown
				cddisplay();
				if (count == 0) {
					// time is up
				} else {
					count--;
					t = setTimeout("countdown()", 1000);
				}
			};

			function cdpause() {
				// pauses countdown
				clearTimeout(t);
			};

			function cdreset() {
				// resets countdown
				cdpause();
				count = CCOUNT;
				cddisplay();
			};
		</script>
	</body>
</html>